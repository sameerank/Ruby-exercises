<% action_url = @cat.persisted? ? cat_url(@cat) : cat_url %>
<% method = @cat.persisted? ? 'patch' : 'post' %>

<form action="<%= action_url %>" method="post">

  <input type="hidden" name="_method" value="<%= method %>">

  <label for="cat_name">Name</label>
  <input name="cat[name]" id="cat_name" type="text" value=<%= @cat[:name] %>>
  <br>

  <label>Sex</label>
  <div>
    <input name="cat[sex]" id="cat_sex_m" type="radio" value="M" <%= "checked" if @cat[:sex] == "M" %>>
    <label for="cat_sex_m">Male</label>
    <input name="cat[sex]" id="cat_sex_f" type="radio" value="F" <%= "checked" if @cat[:sex] == "F" %>>
    <label for="cat_sex_f">Female</label>
  </div>
  <br>

  <label for="cat_description">Description</label>
  <textarea name="cat[description]" id="cat_description"><%= @cat[:description] %></textarea>
  <br>

  <label for="cat_color">Coat color</label>

  <select name="cat[color]">
    <% Cat::COLORS.each do |color| %>
    <option value="<%= color %>"
            <%= "selected" if @cat[:color] == color %>>
      <%= color.capitalize  %>
    </option>
    <% end %>
  </select>
  <br>

  <label for="cat_birth_date">Birth date</label>
  <input name="cat[birth_date]" id="cat_birth_date" type="date"  value=<%= @cat[:birth_date] %>>

  <input type="submit" value="Submit">

</form>
